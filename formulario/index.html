<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Formulario con Progreso</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <header>
    <h1>Formulario Perron</h1>
  </header>

  <main>

    <section class="progressCont">
      <div id="progress-bar" class="progressBar"></div>
    </section>

    
    <section id="startsection" class="startSect">
      <button id="startBtn">Empezar formulario</button>
    </section>

    <!-- Modal 1 -->
    <section id="modal1" class="modal">
      <div class="modalcont">
        <h2>Datos personales</h2>
        <form>
          <label>Nombre:<br>
            <input type="text" id="nombre" required>
          </label><br><br>
          <label>Correo:<br>
            <input type="email" id="correo" required>
          </label><br><br>
          <label>Fecha de nacimiento:<br>
            <input type="date" id="fecha">
          </label><br><br>
          <button type="button" onclick="nextModal(1)">Siguiente</button>
        </form>
      </div>
    </section>

    <section id="modal2" class="modal">
      <div class="modalcont">
        <h2>Preferencias</h2>
        <form>
          <p>Lenguaje favorito:</p>
          <label><input type="radio" name="lenguaje" value="HTML"> HTML</label><br>
          <label><input type="radio" name="lenguaje" value="CSS"> CSS</label><br>
          <label><input type="radio" name="lenguaje" value="JavaScript"> JavaScript</label><br><br>

          <p>Pasatiempos:</p>
          <label><input type="checkbox" name="hobby" value="Música"> Música</label><br>
          <label><input type="checkbox" name="hobby" value="Deporte"> Deporte</label><br>
          <label><input type="checkbox" name="hobby" value="Lectura"> Lectura</label><br><br>

          <button type="button" onclick="nextModal(2)">Siguiente</button>
        </form>
      </div>
    </section>

    <section id="modal3" class="modal">
      <div class="modalcont">
        <h2>Detalles finales</h2>
        <form>
          <label>País:<br>
            <select id="pais">
              <option value="">-- Selecciona --</option>
              <option value="México">México</option>
              <option value="España">España</option>
              <option value="Argentina">Argentina</option>
            </select>
          </label><br><br>

          <label>¿Qué tan satisfecho estás? (1 a 10)<br>
            <input type="range" min="1" max="10" value="5" id="satisfaccion">
            <span id="valor-range">5</span>
          </label><br><br>

          <label>Subir archivo:<br>
            <input type="file" id="archivo">
          </label><br><br>

          <button type="button" onclick="finishForm()">Finalizar</button>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <p>formulario perron de 3 pasos </p>
    <p>DEV: José Pimentel</p>
  </footer>

  <script>
    let progress = 0;

     document.getElementById("startBtn").addEventListener("click", () => {
      document.getElementById("startsection").style.display = "none";
      document.getElementById("modal1").style.display = "flex";
      updateProgress(0);
    });

    function updateProgress(step) {
      progress = step * 33.3;
      document.getElementById("progress-bar").style.width = progress + "%";
    }

    function nextModal(step) {
      document.getElementById("modal" + step).style.display = "none";
      document.getElementById("modal" + (step + 1)).style.display = "flex";
      updateProgress(step);
    }

    function finishForm() {
      document.getElementById("modal3").style.display = "none";
      updateProgress(3);
      alert("¡Formulario completado!");
    }

    const range = document.getElementById("satisfaccion");
    const out = document.getElementById("valor-range");
    range.addEventListener("input", () => out.textContent = range.value);
  </script>

</body>
</html>